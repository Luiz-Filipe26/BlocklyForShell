{
    "levels": [
        {
            "id": "01_ls_basics",
            "title": "Primeiro contato",
            "summary": "Veja o que existe na pasta atual.",
            "fullGuideHtml": "<h1>Bem-vindo ao terminal</h1><p>O terminal √© como uma conversa: voc√™ escreve um comando, e o computador responde em texto.</p><h3>Sua Ferramenta: ls</h3><p>O comando <strong>ls</strong> (do ingl√™s <em>list</em>) serve para perguntar: <em>'O que tem nesta pasta?'</em></p><h3>Sua Miss√£o</h3><p>1. Arraste o bloco <strong>ls</strong> para dentro do <strong>Script Principal</strong>.<br>2. Clique no bot√£o <strong>Executar</strong>.<br>3. Observe a resposta na sa√≠da do terminal.</p>",
            "setupCommands": [
                "rm -rf *",
                "touch relatorio.txt",
                "touch notas_pessoais.txt",
                "mkdir fotos_viagem"
            ],
            "verificationScript": "if [ -e /tmp/last_cmd_out ] && grep -q 'relatorio.txt' /tmp/last_cmd_out && grep -q 'fotos_viagem' /tmp/last_cmd_out; then echo 'OK'; exit 0; else echo 'N√£o encontrei a lista de arquivos. Voc√™ executou o bloco ls?'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "02_ls_options",
            "title": "Op√ß√µes (Flags)",
            "summary": "Use op√ß√µes para alterar o comportamento do comando.",
            "fullGuideHtml": "<h1>Modificando o Comando</h1><p>O <code>ls</code> sozinho funciona, mas √†s vezes queremos mudar <strong>como</strong> ele funciona.</p><h3>O que √© uma Op√ß√£o?</h3><p>Op√ß√µes (ou flags) s√£o c√≥digos que adicionamos para ativar 'poderes especiais'.</p><ul><li>Elas <strong>sempre</strong> come√ßam com um tra√ßo (<code>-</code>).</li><li>Exemplo: <code>-l</code> (long) ativa o modo detalhado.</li><li>Exemplo: <code>-h</code> (human) deixa o tamanho leg√≠vel.</li></ul><h3>Compara√ß√£o Visual</h3><div style=\"background:#1e1e1e; color:#d4d4d4; padding:15px; border-radius:6px; font-family:'Courier New', monospace; font-size:0.85em; margin: 10px 0;\"><div style=\"margin-bottom:10px;\"><span style=\"color:#569cd6\">$</span> ls<br><span>backup.data</span></div><div style=\"border-top:1px solid #444; padding-top:10px;\"><span style=\"color:#569cd6\">$</span> ls -lh<br><span>-rw-r--r-- 1 user <strong>2.5K</strong> Dez 19 backup.data</span></div></div><h3>Sua Miss√£o</h3><p>Queremos ver o tamanho do arquivo. Arraste o bloco <strong>ls</strong> e adicione as op√ß√µes <strong>-l</strong> e <strong>-h</strong>.</p>",
            "setupCommands": [
                "rm -rf *",
                "dd if=/dev/zero of=backup.data bs=1024 count=3 2>/dev/null",
                "echo 'final' >> backup.data"
            ],
            "verificationScript": "if grep -q 'backup.data' /tmp/last_cmd_out; then if grep -qE '[0-9]+[KMG]' /tmp/last_cmd_out; then echo 'OK'; exit 0; else echo 'O arquivo apareceu, mas o tamanho n√£o est√° leg√≠vel. Voc√™ lembrou da op√ß√£o -h?'; exit 1; fi; else echo 'O arquivo backup.data n√£o foi listado.'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "03_mkdir",
            "title": "Operandos (Alvos)",
            "summary": "Crie uma nova pasta definindo um operando.",
            "fullGuideHtml": "<h1>A√ß√£o e Rea√ß√£o</h1><p>Alguns comandos, como o <code>ls</code>, funcionam sozinhos. Outros precisam de um <strong>alvo</strong> para funcionar.</p><h3>O que √© um operando?</h3><p>√â a informa√ß√£o que voc√™ d√° para o comando saber <strong>onde</strong> ou <strong>com quem</strong> agir. Pense nisso como um verbo que precisa de um complemento:</p><ul><li><em>Comando:</em> \"Crie uma pasta\" (mkdir)</li><li><em>Operando:</em> \"...com o nome <strong>projetos</strong>\"</li></ul><h3>Sua Miss√£o</h3><p>Use o bloco <strong>mkdir</strong>. Note que ele tem um espa√ßo vazio: isso √© o operando. Escreva <code>projetos</code> nele para criar sua pasta.</p>",
            "setupCommands": [
                "rm -rf *"
            ],
            "verificationScript": "if [ -d projetos ]; then echo 'OK'; exit 0; elif [ -d Projetos ] || [ -d PROJETOS ]; then echo 'Aten√ß√£o: O Linux diferencia mai√∫sculas de min√∫sculas. Voc√™ criou Projetos, mas pedimos projetos.'; exit 1; else echo 'A pasta projetos n√£o foi encontrada. Voc√™ preencheu o operando com o nome correto?'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "04_cd",
            "title": "Entrando em Pastas",
            "summary": "Mude seu local de trabalho para a pasta 'projetos'.",
            "fullGuideHtml": "<h1>Navega√ß√£o (GPS)</h1><p>Criar a pasta n√£o significa que voc√™ est√° <em>dentro</em> dela. O terminal tem um 'foco' chamado diret√≥rio de trabalho.</p><h3>O Comando cd</h3><p>Significa <em>Change Directory</em> (Mudar Diret√≥rio). √â o equivalente a dar um clique duplo em uma pasta no Windows.</p><h3>Sua Miss√£o</h3><p>Use o bloco <strong>cd</strong> com o nome <code>projetos</code> para entrar na pasta que voc√™ criou.</p><p><em>Dica: Se funcionar, o comando pwd (que roda internamente) vai mostrar que o caminho mudou.</em></p>",
            "setupCommands": [
                "rm -rf *",
                "mkdir -p projetos"
            ],
            "verificationScript": "if pwd | grep -q '/projetos$'; then echo 'OK'; exit 0; else echo 'Voc√™ ainda n√£o est√° dentro da pasta projetos.'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "05_cp",
            "title": "Clonando Arquivos",
            "summary": "Fa√ßa uma c√≥pia de seguran√ßa do arquivo.",
            "fullGuideHtml": "<h1>A Arte de Copiar</h1><p>O comando <strong>cp</strong> (Copy) √© o nosso copiador. Diferente do 'Mover', o arquivo original permanece l√°.</p><h3>Dois Operandos</h3><p>Este comando precisa de duas informa√ß√µes, nesta ordem exata:</p><ol><li><strong>Origem:</strong> O que voc√™ quer copiar? (<code>plano.txt</code>)</li><li><strong>Destino:</strong> Qual ser√° o nome da c√≥pia? (<code>backup.txt</code>)</li></ol><h3>Sua Miss√£o</h3><p>Configure o bloco <strong>cp</strong> para copiar o arquivo <code>plano.txt</code> e criar o <code>backup.txt</code>.</p>",
            "setupCommands": [
                "rm -rf *",
                "echo 'Dominar o mundo' > plano.txt"
            ],
            "verificationScript": "if [ ! -f plano.txt ]; then echo 'O arquivo original sumiu! Voc√™ usou mv (mover) em vez de cp (copiar)?'; exit 1; fi; if [ -f backup.txt ]; then echo 'OK'; exit 0; else echo 'O arquivo backup.txt n√£o foi criado.'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "06_cat",
            "title": "Lendo Arquivos",
            "summary": "Descubra o que est√° escrito no arquivo secreto.",
            "fullGuideHtml": "<h1>Arquivos t√™m Conte√∫do</h1><p>At√© agora, os arquivos eram apenas nomes na lista. Mas eles guardam informa√ß√µes.</p><h3>O Comando cat</h3><p>O nome vem de <em>Concatenate</em> (Concatenar). Ele pega todo o texto de um arquivo e joga na tela.</p><h3>Sua Miss√£o</h3><p>Interceptamos uma mensagem. Use o bloco <strong>cat</strong> para ler o arquivo <code>mensagem_secreta.txt</code> e descobrir a senha.</p>",
            "setupCommands": [
                "rm -rf *",
                "echo 'A senha do cofre √©: BATATA-123' > mensagem_secreta.txt",
                "touch lixo.txt"
            ],
            "verificationScript": "if grep -q 'BATATA-123' /tmp/last_cmd_out; then echo 'OK'; exit 0; else echo 'O conte√∫do da mensagem n√£o apareceu na tela. Voc√™ leu o arquivo certo?'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "07_grep",
            "title": "O Filtro (Grep)",
            "summary": "Encontre uma informa√ß√£o espec√≠fica no meio de muitas linhas.",
            "fullGuideHtml": "<h1>Agulha no Palheiro</h1><p>Ler arquivos pequenos com <code>cat</code> √© f√°cil. Mas e se o arquivo tiver 1.000 linhas?</p><h3>O Comando grep</h3><p>Ele funciona como uma busca. Voc√™ diz o que quer procurar, e ele mostra <strong>apenas</strong> as linhas que cont√™m aquele texto.</p><h3>Sua Miss√£o</h3><p>O arquivo <code>server.log</code> est√° cheio de mensagens. Use o <strong>grep</strong> para encontrar apenas a linha com a palavra <strong>ERRO</strong>.</p>",
            "setupCommands": [
                "rm -rf *",
                "echo 'INFO: Sistema iniciou' > server.log",
                "echo 'WARN: Uso de mem√≥ria alto' >> server.log",
                "echo 'ERRO: Falha cr√≠tica no disco' >> server.log",
                "echo 'INFO: Tudo normal' >> server.log"
            ],
            "verificationScript": "if grep -q 'Falha cr√≠tica' /tmp/last_cmd_out && ! grep -q 'INFO' /tmp/last_cmd_out; then exit 0; else echo 'A filtragem falhou. Deveria aparecer APENAS a linha contendo ERRO.'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "08_redirect",
            "title": "Salvando Resultados (>)",
            "summary": "Grave a lista de arquivos dentro de um novo arquivo.",
            "fullGuideHtml": "<h1>Persist√™ncia</h1><p>Normalmente, o resultado de um comando aparece na tela e desaparece logo depois. E se quisermos salvar?</p><h3>O Operador Maior Que (>)</h3><p>Esse s√≠mbolo pega o resultado do comando e <strong>escreve em um arquivo</strong>.</p><p><code>comando > arquivo.txt</code></p><h3>Sua Miss√£o</h3><p>Liste os arquivos com <strong>ls</strong> e use o operador <strong>></strong> para salvar essa lista num arquivo chamado <code>inventario.txt</code>.</p>",
            "setupCommands": [
                "rm -rf *",
                "touch caixa_A.doc",
                "touch caixa_B.doc"
            ],
            "verificationScript": "if [ -f inventario.txt ]; then if grep -q 'caixa_A.doc' inventario.txt; then echo 'OK'; exit 0; else echo 'O arquivo foi criado, mas n√£o cont√©m a lista de arquivos.'; exit 1; fi; else echo 'O arquivo inventario.txt n√£o foi criado.'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "09_pipe",
            "title": "Conectando Comandos (|)",
            "summary": "Use a sa√≠da de um comando como entrada de outro.",
            "fullGuideHtml": "<h1>Encanamento de Dados</h1><p>No terminal, os comandos n√£o precisam trabalhar sozinhos. Voc√™ pode conect√°-los para criar solu√ß√µes poderosas.</p><h3>Como o Pipe funciona?</h3><p>O operador <strong>|</strong> (Pipe ou Cano) funciona como um encanamento real:</p><ul><li>Ele pega o texto que <strong>sai</strong> do primeiro comando...</li><li>...e o empurra para que ele <strong>entre</strong> como informa√ß√£o no segundo comando.</li></ul><p>Em vez do texto aparecer na tela ap√≥s o primeiro comando, ele viaja pelo 'cano' invis√≠vel at√© o pr√≥ximo bloco.</p><h3>Sua Miss√£o</h3><p>Vamos fazer o texto fluir: use o <strong>cat</strong> para ler o arquivo, mas n√£o deixe o texto parar por ali. Conecte um <strong>pipe</strong> para que esse texto entre no <strong>grep</strong> e seja filtrado.</p><ol><li>Bloco <strong>cat</strong> (lendo <code>nomes.txt</code>)</li><li>Conecte o <strong>| (pipe)</strong></li><li>Bloco <strong>grep</strong> (buscando <code>Ana</code>)</li></ol>",
            "setupCommands": [
                "rm -rf *",
                "echo 'Carlos' > nomes.txt",
                "echo 'Ana Maria' >> nomes.txt",
                "echo 'Pedro' >> nomes.txt",
                "echo 'Ana Paula' >> nomes.txt"
            ],
            "verificationScript": "if grep -q 'Ana Maria' /tmp/last_cmd_out && ! grep -q 'Carlos' /tmp/last_cmd_out; then exit 0; else echo 'O fluxo de dados falhou. Certifique-se de que o cat est√° enviando os dados para o grep atrav√©s do pipe.'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "10_ping",
            "title": "Sonar de Rede (Ping)",
            "summary": "Verifique se um endere√ßo de rede est√° ativo.",
            "fullGuideHtml": "<h1>O Infinito e Al√©m</h1><p>No Linux, o comando <strong>ping</strong> roda para sempre! Se voc√™ n√£o limit√°-lo, ele nunca para.</p><h3>A Op√ß√£o de Contagem (-c)</h3><p>Para evitar que o terminal fique preso eternamente, usamos a op√ß√£o <strong>-c</strong> (count) para definir quantas vezes queremos testar.</p><h3>Sua Miss√£o</h3><p>Use o bloco <strong>ping</strong>:</p><ol><li>No campo de op√ß√µes, ative a flag <strong>-c</strong> e digite <strong>4</strong> na contagem.</li><li>Defina o endere√ßo como <code>127.0.0.1</code>.</li></ol>",
            "setupCommands": [
                "rm -rf *"
            ],
            "verificationScript": "if grep -q '64 bytes from 127.0.0.1' /tmp/last_cmd_out; then exit 0; else echo 'O ping falhou. Verifique o endere√ßo e se voc√™ limitou a contagem.'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "11_curl",
            "title": "Buscando Dados (Curl)",
            "summary": "Obtenha o conte√∫do de uma p√°gina ou arquivo na rede.",
            "fullGuideHtml": "<h1>O Navegador em Texto</h1><p>O comando <strong>curl</strong> busca o conte√∫do de endere√ßos (URLs) e mostra na tela.</p><h3>Sua Miss√£o</h3><p>Existe um mini-servidor rodando neste computador na porta 8000. Use o <strong>curl</strong> para ler o conte√∫do deste endere√ßo:</p><code>http://127.0.0.1:8000/sucesso.txt</code>",
            "setupCommands": [
                "pkill -9 -f http.server || true",
                "echo 'PARABENS! VOCE COMPLETOU O TUTORIAL!' > sucesso.txt",
                "(python3 -m http.server 8000 --bind 127.0.0.1 > /dev/null 2>&1 & true)",
                "sleep 3"
            ],
            "verificationScript": "if grep -q 'PARABENS' /tmp/last_cmd_out 2>/dev/null; then exit 0; else echo 'Erro: O servidor n√£o respondeu a tempo. Tente novamente em instantes.'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "12_ps",
            "title": "Visualizando Processos",
            "summary": "Veja o que est√° rodando no sistema agora.",
            "fullGuideHtml": "<h1>O Sistema est√° Vivo</h1><p>Mesmo quando voc√™ n√£o digita nada, o computador est√° rodando v√°rios programas invis√≠veis.</p><h3>O Comando ps</h3><p>O comando <strong>ps</strong> (Process Status) lista os programas que est√£o ativos no momento. √â como o Gerenciador de Tarefas do Windows.</p><h3>Sua Miss√£o</h3><p>Existe um processo chamado <code>servidor_oculto</code> rodando agora. Use o comando <strong>ps</strong> para encontr√°-lo na lista de processos ativos.</p>",
            "setupCommands": [
                "pkill -f servidor_oculto || true",
                "rm -rf *",
                "(exec -a servidor_oculto sleep 200 &)"
            ],
            "verificationScript": "if grep -q 'servidor_oculto' /tmp/last_cmd_out; then exit 0; else echo 'Voc√™ n√£o listou os processos corretamente ou o servidor oculto n√£o apareceu (tente executar novamente).'; exit 1; fi",
            "difficulty": "tutorial"
        },
        {
            "id": "13_background",
            "title": "Multitarefa (&)",
            "summary": "Execute comandos em segundo plano.",
            "fullGuideHtml": "<h1>Primeiro Desafio de Treino</h1><p>Agora que voc√™ conhece os comandos, vamos aprender a controlar como eles rodam.</p><h3>O que √© o Segundo Plano?</h3><p>O s√≠mbolo <strong>&amp;</strong> no final de um comando avisa ao sistema: <em>\"Rode isso escondido e me devolva o controle do terminal agora\"</em>.</p><p>Isso √© √∫til para comandos que nunca param, como o <code>ping</code>.</p><h3>Sua Miss√£o</h3><p>Execute o comando <code>ping 127.0.0.1</code>, mas use o operador <strong>&amp;</strong> no final para que ele rode em segundo plano e n√£o trave sua tela.</p>",
            "setupCommands": [
                "rm -rf *"
            ],
            "verificationScript": "sleep 0.5; if ps aux | grep -v grep | grep -q 'ping'; then exit 0; else echo 'O ping n√£o est√° rodando em segundo plano. Voc√™ usou o & no final?'; exit 1; fi",
            "difficulty": "training"
        },
        {
            "id": "14_organizar",
            "title": "Arrumando a Casa",
            "summary": "Organize os arquivos soltos em diret√≥rios.",
            "fullGuideHtml": "<h1>Caos no Servidor</h1><p>Algu√©m (provavelmente o estagi√°rio) deixou v√°rios arquivos de log espalhados na pasta raiz. Precisamos organizar isso.</p><h3>Sua Miss√£o</h3><ol><li>Crie um diret√≥rio chamado <code>logs</code>.</li><li>Use o comando <strong>mv</strong> para mover os arquivos <code>erro.log</code> e <code>acesso.log</code> para dentro dessa nova pasta.</li></ol>",
            "setupCommands": [
                "rm -rf *",
                "touch erro.log",
                "touch acesso.log",
                "touch imagem.png",
                "touch script.sh"
            ],
            "verificationScript": "if [ -d logs ] && [ -f logs/erro.log ] && [ -f logs/acesso.log ] && [ ! -f erro.log ]; then exit 0; else echo 'Os arquivos de log ainda n√£o est√£o dentro da pasta logs.'; exit 1; fi",
            "difficulty": "training"
        },
        {
            "id": "15_limpeza",
            "title": "Treino: Protocolo de Seguran√ßa",
            "summary": "Remova arquivos sens√≠veis expostos.",
            "fullGuideHtml": "<h1>Vazamento de Dados</h1><p>Um arquivo contendo senhas antigas foi deixado acidentalmente no servidor p√∫blico. Isso √© uma viola√ß√£o de seguran√ßa grave.</p><h3>Sua Miss√£o</h3><p>Identifique o arquivo <code>senhas_antigas.txt</code> usando <strong>ls</strong> e remova-o imediatamente usando o comando <strong>rm</strong>.</p><p><em>Dica: O script deve listar os arquivos para confirmar o nome antes de apagar.</em></p>",
            "setupCommands": [
                "rm -rf *",
                "touch notas.txt",
                "echo 'admin:12345' > senhas_antigas.txt",
                "touch todo_list.md"
            ],
            "verificationScript": "if [ ! -f senhas_antigas.txt ] && grep -q 'senhas_antigas.txt' /tmp/last_cmd_out; then exit 0; else if [ -f senhas_antigas.txt ]; then echo 'O arquivo de senhas ainda existe.'; else echo 'Voc√™ removeu o arquivo, mas n√£o o listou (ls) para confirmar a exist√™ncia dele antes.'; fi; exit 1; fi",
            "difficulty": "training"
        },
        {
            "id": "16_processamento",
            "title": "Rota√ß√£o de Logs",
            "summary": "Filtre erros cr√≠ticos e limpe o arquivo original.",
            "fullGuideHtml": "<h1>Gerenciamento de Espa√ßo</h1><p>O arquivo <code>servidor.log</code> ficou gigante e est√° ocupando todo o disco. Precisamos salvar apenas os erros e apagar o resto.</p><h3>Sua Miss√£o</h3><ol><li>Use <strong>grep</strong> para filtrar as linhas com a palavra <strong>CRITICO</strong> do arquivo <code>servidor.log</code>.</li><li>Salve o resultado em um novo arquivo chamado <code>erros.txt</code>.</li><li>Ap√≥s salvar, remova o arquivo original <code>servidor.log</code> para liberar espa√ßo.</li></ol>",
            "setupCommands": [
                "rm -rf *",
                "echo 'INFO: Tudo ok' > servidor.log",
                "echo 'WARN: Memoria cheia' >> servidor.log",
                "echo 'CRITICO: Banco de dados caiu' >> servidor.log",
                "echo 'INFO: Reiniciando' >> servidor.log"
            ],
            "verificationScript": "if [ -f erros.txt ] && grep -q 'CRITICO' erros.txt && [ ! -f servidor.log ]; then exit 0; else echo 'Verifique se o arquivo erros.txt foi criado corretamente e se o servidor.log foi removido.'; exit 1; fi",
            "difficulty": "training"
        },
        {
            "id": "17_deploy",
            "title": "Treino: Download e Deploy",
            "summary": "Baixe um programa da rede e instale-o na pasta correta.",
            "fullGuideHtml": "<h1>Instala√ß√£o Manual</h1><p>Voc√™ precisa instalar o novo sistema de vendas que est√° no servidor central.</p><h3>O Processo de Deploy</h3><p>Instalar nada mais √© do que baixar arquivos e coloc√°-los no lugar certo.</p><h3>Sua Miss√£o</h3><ol><li>Crie um diret√≥rio chamado <code>app</code> para organizar o sistema.</li><li>Use o <strong>curl</strong> para ler a URL <code>http://127.0.0.1:8000/vendas.py</code>.</li><li><strong>Importante:</strong> Use o operador <strong>&gt;</strong> para salvar o resultado desse curl num arquivo chamado <code>vendas.py</code>.</li><li>Por fim, use o <strong>mv</strong> para mover esse arquivo para dentro da nova pasta <code>app</code> que voc√™ mesmo vai criar.</li></ol>",
            "setupCommands": [
                "rm -rf *",
                "pkill -9 -f http.server || true",
                "echo 'print(\"Sistema de Vendas v2.0\")' > vendas.py",
                "(python3 -m http.server 8000 --bind 127.0.0.1 > /dev/null 2>&1 & true)",
                "sleep 2"
            ],
            "verificationScript": "if [ -d app ] && [ -f app/vendas.py ]; then exit 0; else echo 'O arquivo vendas.py n√£o foi encontrado DENTRO da pasta app. Voc√™ baixou e moveu ele corretamente?'; exit 1; fi",
            "difficulty": "training"
        },
        {
            "id": "18_challenge_security",
            "title": "Desafio: O Incidente",
            "summary": "Investigue o sistema e neutralize a amea√ßa.",
            "fullGuideHtml": "<h1>Alerta de Intrus√£o üö®</h1><p>Um script malicioso est√° rodando. Diferente dos n√≠veis anteriores, voc√™ n√£o sabe o nome dele ainda.</p><h3>Estrat√©gia de Investiga√ß√£o (Fa√ßa por etapas)</h3><ol><li><strong>Sondagem:</strong> Execute <code>ps aux</code>. Ignore os processos do sistema e procure pelo arquivo suspeito na coluna COMMAND (ele aparecer√° como <code>./nome_do_arquivo.sh</code> ou <code>bash ./nome_do_arquivo.sh</code>).</li><li><strong>Intelig√™ncia:</strong> Limpe o workspace. Use o <code>cat</code> nesse arquivo para ler o conte√∫do e descobrir o <strong>IP</strong>.</li><li><strong>A√ß√£o:</strong> Limpe de novo. Crie um arquivo <code>blacklist.txt</code> contendo apenas esse IP e use <code>rm</code> para deletar o malware.</li></ol>",
            "setupCommands": [
                "pkill -f malware.sh || true",
                "rm -rf *",
                "echo '# CONFIDENCIAL - ENVIANDO DADOS PARA: 203.0.113.55' > malware.sh",
                "echo 'sleep 200' >> malware.sh",
                "chmod +x malware.sh",
                "./malware.sh > /dev/null 2>&1 &",
                "sleep 1"
            ],
            "verificationScript": "if [ -f blacklist.txt ] && grep -q '203.0.113.55' blacklist.txt && [ ! -f malware.sh ]; then exit 0; else echo 'A amea√ßa n√£o foi neutralizada ou o IP n√£o foi salvo corretamente.'; exit 1; fi",
            "difficulty": "challenge"
        },
        {
            "id": "19_challenge_deploy",
            "title": "Desafio Final: O Grande Deploy",
            "summary": "Prepare o ambiente e coloque a aplica√ß√£o no ar.",
            "fullGuideHtml": "<h1>Teste Final de SysAdmin üéì</h1><p>O time de desenvolvimento terminou a nova API, mas eles n√£o sabem colocar no ar. √â com voc√™.</p><h3>Especifica√ß√µes do Deploy</h3><ol><li>Crie a estrutura de pastas: uma pasta <code>app</code> e dentro dela uma pasta <code>logs</code>.</li><li>Baixe o c√≥digo fonte <code>server.py</code> que est√° dispon√≠vel em <code>http://127.0.0.1:8000/server.py</code>.</li><li>Mova o arquivo baixado para dentro da pasta <code>app</code>.</li><li>Execute o servidor (<code>python3 app/server.py</code>) em <strong>segundo plano</strong>.</li></ol>",
            "setupCommands": [
                "rm -rf *",
                "pkill -9 -f http.server || true",
                "pkill -9 -f server.py || true",
                "echo 'print(\"Servidor de Producao Rodando...\"); import time; time.sleep(100)' > server.py",
                "(python3 -m http.server 8000 --bind 127.0.0.1 > /dev/null 2>&1 & true)",
                "sleep 3"
            ],
            "verificationScript": "if [ -d app/logs ] && [ -f app/server.py ] && ps aux | grep -v grep | grep -q 'app/server.py'; then exit 0; else echo 'O deploy falhou. Verifique a estrutura de pastas, o arquivo e se o processo est√° rodando.'; exit 1; fi",
            "difficulty": "challenge"
        }
    ],
    "levelOrder": [
        "01_ls_basics",
        "02_ls_options",
        "03_mkdir",
        "04_cd",
        "05_cp",
        "06_cat",
        "07_grep",
        "08_redirect",
        "09_pipe",
        "10_ping",
        "11_curl",
        "12_ps",
        "13_background",
        "14_organizar",
        "15_limpeza",
        "16_processamento",
        "17_deploy",
        "18_challenge_security",
        "19_challenge_deploy"
    ]
}
