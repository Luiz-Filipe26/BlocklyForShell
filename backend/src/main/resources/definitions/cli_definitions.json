{
  "commands": [
    {
      "id": "ls",
      "shellCommand": "ls",
      "label": "ls",
      "description": "Lista o conteúdo de diretórios. Mostra informações sobre arquivos e pastas.",
      "color": "#5b80a5",
      "optionColor": "#7fbf7f",
      "options": [
        {
          "flag": "-l",
          "description": "Usa o formato de listagem longa, mostrando detalhes.",
          "takesArgument": false
        },
        {
          "flag": "-a",
          "longFlag": "--all",
          "description": "Mostra todas as entradas, incluindo as ocultas (que começam com '.').",
          "takesArgument": false
        },
        {
          "flag": "-h",
          "longFlag": "--human-readable",
          "description": "Com -h, mostra os tamanhos de forma legível (ex: 1K, 234M, 2G).",
          "takesArgument": false
        },
        {
          "flag": "-t",
          "description": "Ordena pela data de modificação, com os mais recentes primeiro.",
          "takesArgument": false
        },
        {
          "flag": "-S",
          "description": "Ordena por tamanho de arquivo, com os maiores primeiro.",
          "takesArgument": false
        },
        {
          "flag": "-r",
          "longFlag": "--reverse",
          "description": "Inverte a ordem da ordenação.",
          "takesArgument": false
        },
        {
          "flag": "-R",
          "longFlag": "--recursive",
          "description": "Lista os subdiretórios recursivamente.",
          "takesArgument": false
        }
      ],
      "exclusiveOptions": [
        ["-t", "-S"]
      ],
      "operands": [
        {
          "id": "file",
          "label": "Arquivo",
          "description": "Um arquivo específico a ser listado.",
          "color": "#a67f5f",
          "type": "file",
          "defaultValue": "arquivo.txt",
          "cardinality": { "min": 0, "max": "unlimited" },
          "validations": [
            {
              "regex": "^[^/\\0;]*$",
              "errorMessage": "Nome de arquivo inválido (não pode conter '/')."
            }
          ]
        },
        {
          "id": "folder",
          "label": "Pasta",
          "description": "Um diretório a ser listado. Se omitido, usa o diretório atual.",
          "color": "#a67f5f",
          "type": "folder",
          "defaultValue": ".",
          "cardinality": { "min": 0, "max": "unlimited" },
          "validations": [
            {
              "regex": "^[^;\\0]*$",
              "errorMessage": "Caminho de pasta contém caracteres inválidos."
            }
          ]
        }
      ]
    },
    {
      "id": "cd",
      "shellCommand": "cd",
      "label": "cd",
      "description": "Navegar entre pastas",
      "color": "#7fc37f",
      "optionColor": "#7fbf7f",
      "options": [
        {
          "flag": "-l",
          "description": "Manipule o operando .. logicamente.",
          "takesArgument": false
        }
      ],
      "operands": [
        {
          "id": "folder",
          "label": "Pasta",
          "description": "Um diretório a ser navegado.",
          "color": "#a67f5f",
          "type": "folder",
          "defaultValue": ".",
          "cardinality": { "min": 1, "max": "unlimited" },
          "validations": [
            {
              "regex": "^[^;\\0]*$",
              "errorMessage": "Caminho de pasta contém caracteres inválidos."
            }
          ]
        }
      ]
    },
    {
      "id": "mkdir",
      "shellCommand": "mkdir",
      "label": "mkdir",
      "description": "Criar pastas",
      "color": "#8e44ad",
      "optionColor": "#7fbf7f",
      "options": [
        {
          "flag": "-p",
          "description": "Cria diretórios pais conforme necessário (parents), sem erro se existir.",
          "takesArgument": false
        },
        {
          "flag": "-v",
          "description": "Mostra uma mensagem para cada diretório criado (verbose).",
          "takesArgument": false
        }
      ],
      "operands": [
        {
          "id": "folder_name",
          "label": "Nome da Pasta",
          "description": "Nome da pasta a ser criada.",
          "color": "#a67f5f",
          "type": "string",
          "defaultValue": "nova_pasta",
          "cardinality": { "min": 1, "max": "unlimited" },
          "validations": [
            {
              "regex": "^[^/\\0;]*$",
              "errorMessage": "Nome de pasta inválido."
            }
          ]
        }
      ]
    }
  ],
  "operators": [
    {
      "id": "pipe",
      "label": "pipe",
      "description": "Redireciona a saída do comando anterior para a entrada do próximo (Pipe).",
      "color": "#b1745b",
      "slots": [
        {
          "name": "A",
          "type": "statement",
          "check": "command"
        },
        {
          "name": "B",
          "type": "statement",
          "check": "command",
          "symbol": "|",
          "symbolPlacement": "before"
        }
      ],
      "slotsWithImplicitData": ["B"]
    },
    {
      "id": "redirect_out",
      "label": "redirect_out",
      "description": "Salva a saída do comando em um arquivo (sobrescreve).",
      "color": "#b1745b",
      "slots": [
        {
          "name": "A",
          "type": "statement",
          "check": "command"
        },
        {
          "name": "B",
          "type": "statement",
          "check": "command",
          "symbol": ">",
          "symbolPlacement": "before"
        }
      ]
    },
    {
      "id": "redirect_append",
      "label": "redirect_append",
      "description": "Adiciona a saída do comando ao final de um arquivo (append).",
      "color": "#b1745b",
      "slots": [
        {
          "name": "A",
          "type": "statement",
          "check": "command"
        },
        {
          "name": "B",
          "type": "statement",
          "check": "command",
          "symbol": ">>",
          "symbolPlacement": "before"
        }
      ]
    },
    {
      "id": "and",
      "label": "and",
      "description": "Executa o próximo comando apenas se o anterior tiver sucesso.",
      "color": "#b1745b",
      "slots": [
        {
          "name": "A",
          "type": "statement",
          "check": "command"
        },
        {
          "name": "B",
          "type": "statement",
          "check": "command",
          "symbol": "&&",
          "symbolPlacement": "before"
        }
      ]
    },
    {
      "id": "or",
      "label": "or",
      "description": "Executa o próximo comando apenas se o anterior falhar.",
      "color": "#b1745b",
      "slots": [
        {
          "name": "A",
          "type": "statement",
          "check": "command"
        },
        {
          "name": "B",
          "type": "statement",
          "check": "command",
          "symbol": "||",
          "symbolPlacement": "before"
        }
      ]
    }
  ],
  "controls": [
    {
      "id": "if_statement",
      "shellCommand": "if",
      "label": "if",
      "description": "Executa comandos condicionalmente baseado no sucesso de um comando teste.",
      "color": "#dbaa25",
      "syntaxEnd": "fi",
      "slots": [
        {
          "name": "CONDITION",
          "type": "statement",
          "check": "command",
          "label": "Se (comando):",
          "syntaxPrefix": "",
          "obligatory": true
        },
        {
          "name": "DO",
          "type": "statement",
          "check": "command",
          "label": "Então faça (then):",
          "syntaxPrefix": "then",
          "obligatory": true
        },
        {
          "name": "ELSE",
          "type": "statement",
          "check": "command",
          "label": "Senão (else):",
          "syntaxPrefix": "else",
          "obligatory": false
        }
      ]
    },
    {
      "id": "while_loop",
      "shellCommand": "while",
      "label": "while",
      "description": "Repete comandos enquanto a condição for verdadeira.",
      "color": "#dbaa25",
      "syntaxEnd": "done",
      "slots": [
        {
          "name": "CONDITION",
          "type": "statement",
          "check": "command",
          "label": "Enquanto (comando):",
          "syntaxPrefix": "",
          "obligatory": true
        },
        {
          "name": "DO",
          "type": "statement",
          "check": "command",
          "label": "Faça (do):",
          "syntaxPrefix": "do",
          "obligatory": true
        }
      ]
    }
  ],
  "categories": [
    {
      "name": "Diretórios",
      "commands": ["ls", "cd", "mkdir"]
    },
    {
      "name": "Fluxo & Lógica",
      "commands": [
        "pipe",
        "redirect_out",
        "redirect_append",
        "and",
        "or",
        "if_statement",
        "while_loop"
      ]
    }
  ]
}
